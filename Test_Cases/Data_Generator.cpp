#include "Data_Generator.h"
#include <QFile>
#include <QTextStream>

const QString FILE_A = "/a.bin";
const QString PATCH_1 = "/1.hexp";
const QString PATCH_2 = "/2.hexp";


Data_Generator::Data_Generator(const QString &applicationLocation) {
    this->applicationLocation = applicationLocation;
}

bool Data_Generator::Generate_Data() {
    if (!this->Generate_Binary_File()) return false;
    return true;
}

bool Data_Generator::Clean_Up() {
    QFile fileA(this->applicationLocation+FILE_A);
    if (fileA.exists() && !fileA.remove()) return false;
    QFile patch1(this->applicationLocation+PATCH_1);
    if (patch1.exists() && !patch1.remove()) return false;
    return true;
}

bool Data_Generator::Generate_Patch_1() {
    QFile file(this->applicationLocation+PATCH_1);
    QTextStream stream(&file);
    stream << "C: B0C07D627AE12D5815395437381E65B15BE050C7CFA8FC4EAFBA30B817BC9251" << endl;
    stream << "A: 0x016" << endl;
    stream << "V: ABCD" << endl;
    stream << "A: 0x07A" << endl;
    stream << "V: FFFFFFFFFF" << endl;
    stream << "A: 0x522" << endl;
    stream << "V: 2346243566" << endl;
    stream << "A: 0xAB6" << endl;
    stream << "V: 19827346521389075460" << endl;
    stream << "A: 0xC45" << endl;
    stream << "V: 12352334526A" << endl;
    stream.flush();
    file.close();
    return true;
}

bool Data_Generator::Generate_Patch_2() {
    QFile file(this->applicationLocation+PATCH_2);
    QTextStream stream(&file);
    stream << "C: B0C07D627AE12D5815395437381E65B15BE050C7CFA8FC4EAFBA30B817BC9251" << endl;
    stream << "A: 0x8DF" << endl;
    stream << "V: 34523647565476" << endl;
    stream << "A: 0xC10" << endl;
    stream << "V: 4356754637" << endl;
    stream << "A: 0xD0F" << endl;
    stream << "V: FFFFFF" << endl;
    stream.flush();
    file.close();
    return true;
}

bool Data_Generator::Generate_Binary_File() {
    QFile file(this->applicationLocation+FILE_A);
    if (file.exists() && !file.remove()) return false;
    if (!file.open(QIODevice::ReadWrite)) return false;
    file.write(QByteArray::fromHex(QString("5E5E1B254A43A464733A0388537A0E38C1BA47DE82B84E29B6B3698B66"
        "F0FFBCFE392135CC59FFB686A16FC1C1666B1C7B81905393CDA0344AAD"
        "0151CB833C81A13A7E603BBD1ACA6C7E0564EDF05813D80DD3832FD153"
        "A153BD63218D55A9F989A174E4D5B035E0671103B11558155C1AA04BAC"
        "9703A7B01023CC3BEBA48663F5AF4103DC719039B69AA8E879DFE33780"
        "793D100DA3DAA2C11F7EE025B314FF25A329FC90406C14995A364A59C4"
        "01E44BD8E8EECEF12EB6A6F3B94E7CBE910E59BE660F2F5E09B15190ED"
        "16F647AEA4B9FD8A871C2EE22C01DBBBC72E093FCFD33E3D7DFB0AA450"
        "1C7C0B8C8EA82DB60C296519359936450E1AC68B7DD05E82CF65EB8533"
        "8480333D5ED3EC6329BB5A839BB8E65C736B3F10EF19D8A9572C679073"
        "B367170CDD96F1778277B5069AD05F93C32DCEFABF5C479BF4F0F0DCEB"
        "BE56A5D363E8E3FABC7905596CC2820959DE51C72FCD6F74DCF15D9813"
        "949FDAC8603F89B9E44717E4164A990BCCDC49344316032A9713CAFD50"
        "75447ED4E13AC4EE7E19AA4D7A744F07868194135597A1CA21B6606F25"
        "FF01A3243874F0E149F340A4C17563BC533B8CF75149D42C37E0B6B323"
        "1193E655272BA8B43529DF499396F1C25A644BF0EAE6DF496553A16733"
        "4709877B43940BAF2643F901BD1B79E631A35A9A93698E9C547DAA2DCE"
        "F467D6BC6724E0BD7161D9D6354515EED5192B50FCCB742C556D8F1613"
        "B3E08566790C550B397E46BD98E67ABCDAB5FB4E6AA2333B5429734FCB"
        "056CDCA4BCB836D814533506981AB6EF15531AF81F24C5AB8B1BA036F6"
        "A598EA3D971DBD03A8A4C92FF425CC6B7B9EA6A69F8EDD93AA7A1C2746"
        "6CAF1F046F0977D5143FF494F08B9C7A1CC939A7B4FDD9A058CB51CCAE"
        "FDB5F6DD01E1CF1469F4690169D0BC5B5C9B24593F41E13834EF96B801"
        "99CA9F8F756B356B7E46C749F390257BD560247E6C331C6EC3666A8C27"
        "BFEFBFACE58F11A8E3B42E36A9C9E8B48BBFB645C18B3050E5A594FF79"
        "8B44C15D3C46C95BBEC38DA0988847395888779B0F585F1DD0B3867C35"
        "F33656DA9DFEAFDFD5306E6AE564E123BBF335B6697DFF55A364B63444"
        "4E370BCAA74097D51CF519AC235ED5B86DE6940679DD23C905F7D3D693"
        "CCF627E85667599376032E5D6F290BDD693E7BE8EF2BAA1973DDEA4FC4"
        "C5332B9D569A951A89E037395CE7015E4E33A3D1E56E163D29E5143326"
        "0B9BA56EF66E6B94DD94C2B3A0D7C8E4404601CB63B3D50BD1360FCDF9"
        "A9603D6D29DA0D619B75F131258E21D8B163DA7A6E98DDDB4EB5EEE588"
        "A557251839634E3AA3E3B6F3FCACD488BE16C8054A7ED3B863C6DBB3B1"
        "D0E84D4007AAA1FED6F00D412E33B53E0509FE93D1B113BE118D64A3C5"
        "A3230AF11CC41F1DC684F0D893E3F33017217D3C0DC64B93D31CFED3E8"
        "B3971A74DBFF8FC12D81DABB034EA875FAF829A477F8932120299B6B5F"
        "4A0123E37F058D1ED0EC15C8A97DC85A5886D894935719F8EF45864C6A"
        "29BC1CE2DF7D369BC72F2CBE475AD5D4462ECD4FB3FAF001FCB6E3A398"
        "7B8B507D059307AA38EB2C9F984407E0CF9544762B99736D1E4E8457BC"
        "7953C8401C19D88705F8A4934371CD0AA6EDF7B547384C010101F781EF"
        "5BA96AF73F17153F077981B1F50CCF7CAA93C493AFCD4A2BF009EF413C"
        "8E6513C63001A1A7C33B345AA033D73E232BD8182C06498EA1D082ADEA"
        "369C637309F7062EBEB5CC0EF13C508DDEB81427E796F9DD110AC9B386"
        "8BAD331453B7E7ADDE5AE2E573EC3877962B81C193B65A43F78FE42416"
        "9F44AC863321CBA177299109038CB41B4A7F0E822ABB1CA764FC7F3919"
        "827FAB539383B37BF69ACBE379F6B43E6D6BEE2325F4408E7B2F365E4B"
        "DC9ED8F6630B23E04A53C9F1C2103C181B234FC44B2AB8696B1195013A"
        "80E58999650A800D754E6B41A45B5381AEC145409373D193134A8CB334"
        "818E7EC338F5F6CFF160C1291674A8E8715B19E7B340A544ECD482E318"
        "CC0AE991613A4197CF341BCCD6BD67BA3CC05E4B49C9FA4F498B79FA0E"
        "5ADE636BB37006BAAE3943579388DC2343707A03C847295DD127D8A131"
        "70DBBE5B4469A8EA0A1EDA1BEC7ACE505960868E83970601E24CD873AF"
        "8E86D76AD124C4546CC4F3F61BFFC0987E73AECB973FE3E05089A86FF3"
        "F8EBD1B03BBDA51B80D44FABFD0A743C6BDC7F8E86ED20C48E80C8E5C9"
        "012E5EFF7CCD7EFD2463F913CE73669573C4C15DB3E1EA474B9724B4A5"
        "7997094A5FCE2D65E3390D4BE3AC1BEF03DECB6C27EB167FFCD3F70A70"
        "F9F09335A486C34381C0E75320AC736573DA793B53E035DCF9D4851388"
        "D56AEB8282893C4E81AC19B9FA415E7319D92A8E90AB5F03130F232BD9"
        "03634921A949FFABC7CCD43B4621B61AB3437395C1713D7BC5AC2EA338"
        "3CC164392C561C09C9B0A98D2777F3CF9CB6607D435D5E697AC0DD0764"
        "17D3F369FCB669B0F004C9ABD6BE1C8C76E989C9FB0DE09C75B6118558"
        "F5B3C6FCE07DE61B0DCE2F561B2930B02AB33B115EB4E8C45F1B90F9DC"
        "F9D3440405131D0B17F65EABADE8C8A06A967E2B917488908E3951986E"
        "5E291063A2C5494089BA9503D805CF451B86D4CA1F8003F9791BC159FC"
        "E3F8194646938B351903A36A14BD7DCD51BAD409D1F58B0AF7F129860B"
        "305473B8BD5D898FA4B4C982746FF569C3C81481AA9CF0E845ED982335"
        "60DE971EC0DA1329796644831D9F3FDBE36AFBE823EDD5E1DC130B032E"
        "09410FE0C1FFCADB74307BAD1DA57007F890793F0A0A6BCF988D9ED4AE"
        "7A70909994C0E86E8374E78153F339EEF3ABB113B68DC414D48C0B56EA"
        "23C50476CB538E5C87B924645C2340BAD35E196C755B31F057B0C89B8B"
        "17662BABED553E53B424D8A49326E1C2CFF1A5575BDF530D46907E1745"
        "669EA93409907B8EE0134BF79D4958B3B13AE72CD454C2707FE5B4B073"
        "A00EC22F1D25A07C59D1E8E533F05A38EDE15C07B00A79290753DD3963"
        "A8DB16967B6963593F9D03C7EE39A4DF841D350581CE67816BF631FF4A"
        "E34E0E2B06BCA19E763F91376BDC1910C35E584680D4D3794911EF4BE3"
        "2B7BE8C1FD257C73A501B72C06054E49478F79C553DD76C35693040A46"
        "3AE98157BB6CB786E8DB5D10F307CAF8F5C3768469697FC0AE5427FA89"
        "675444A0850FF6011605299889093DBBCC9053A2D634D4E81E33E90C21"
        "EB01F3E0664D635FCD468827EC2773C5B56C9749BF5A4BC7C2764AD91C"
        "0B361C4FA910AF81A0C2B7FB8995DEABBEBBCFA2DEC7BB964A30D760AA"
        "D3DB7F696C8594332314E47EFDCEDAFF677B8230B0E70ED18B63556491"
        "454FB0BD639A3FEE9CF9E06950D02654E3A9E63C3EB1BD904D3B872482"
        "3CE9AF51CEC94CB3AED1FDA2BEEF24A283D80936A880566779A39D4369"
        "40D0578C18C83B1D34C007FA5CD8D623A1934A3FD45809170CF4371924"
        "1605D63AD12384331E447D3158A1BE23BF796934F689435A849737CA56"
        "EDD17F3BD7C3B767246475F1AB2C0155C33A63F3C9CEEA8D9DCFABCD25"
        "46FBBDC9E1F44DF671F6D09C6D237FB06CE2F5AAAE5DB307940399C824"
        "0671F386DD670C8AC48AA41F384ECADD7B0A937D167A985B513E74FBBD"
        "594981ABB33C37B396F50B2E34200EBB20EEF6BED1959DDC23CB8080D6"
        "4F415A0D6126DBCF4597BA89C4A4738BAA7DC18649F72A15F50E743186"
        "5D29BAD9A819F54F53D4094CE83381B995D0CD83AB89C11A210114F30F"
        "1FE206338D2B506F3A535349D89F91695FBD151F883CEADB5310A1B382"
        "10CFE01C798D41EB69F6D6FD63AD4627D0555B7D7D1681DB171F4A60B3"
        "1EECED49CAC1AB335AC782B10A1EA3699D8CFFDFD6FCCD01FEFB099E63"
        "3AEFEAD30F83FC23F30C51AD059546CD866BA1645BA209568E90890DCD"
        "4F13F3EA40F6FC59836D1AB58013C63B61697E4E954F41F14F90145004"
        "568138F1B1139A9315DC0C2DDAEF4746BAE6AA29565CB661B1749046B3"
        "51826BA79C7B2DBD018A2989B367C183E3EA9E854C912950AAFE10073E"
        "77C7B34C6505BC9DD64376FEFB4093BFAA80A834DCC8B43830A496A567"
        "E191DDE613CD453810D6C489731A492C1A6E4115A98A255F0588EAC8D9"
        "698F301490931E69457C3BCE3353D5FEEB215DF75F7AE97C67F3B39440"
        "A3980909A799EA439F5E095931AE7E1585F92329C8CE15A4AA653982DF"
        "16B51CA2E073B32DE3A1EA43E63449A5D360BC9F3521117DC0B67D0FC9"
        "21182ACAA85C27E057AA614D7BC6BBF6295617E6B566E0C93BE7817319"
        "2BEB55736A130EAE4173D8F52E8417B81549CF27BEC72ABB5586F6AEE8"
        "13247EED7D4A6FB9DB23060AC4098E7ED58196192FAF71C3F6DEB4C8D3"
        "FABC567316260306E75544C046F0F75CB361DA94CB5711AAD944A4E343"
        "E0FF0618A471E18950ADC46C664C04BBAC497A13AE8201363A3EFC8AE2"
        "A2CE987D3A5F8DA6779DBC3C2CF91AE00FE6C07B3E5E6DB5B75D017FDE"
        "64038AFCF71DCDBA1F9B03AAE8EF2ABEE42F06CFA7959C1849FEB7B8E7"
        "6D663323857CF39E130FBE8480FA4901635BA5C5ED15CB857B4F167A09"
        "F3C5DFB8307C764FF8C404B88386D07FCB9429560E21DD934F43C2B0D4"
        "7931CBA91E86241CFAA1A23FB3694D6A5343D5B6CC9E0A83706B63F379"
        "9D766C7FAE8519041AF06AECE2BC90FD0A1303641BC4FB2FA2BEFAD4AF"
        "9840A9570D566A337984B6DD5C5A9179DF2BE42B4A8DF99A8ADBFF74B3"
        "B48CE97779162EB3D379FCE329740EA92D2CA74A51A709304B53FF6995"
        "7C5427EFD85A3FDBFF64AA20EC4C06497EEE1523FAAA3D4186E6077AAF"
        "8AA16AE4835CEDF9412EA8A53831810463232315BBE2793DC4F93AC203"
        "0E5C517C7098794091EE2EDE861F47EB8834FF7F75F579B750733435BD").toLatin1()));
    file.flush();
    file.close();
    return true;
}
